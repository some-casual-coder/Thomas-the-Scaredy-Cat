<behaviortree version="1.1" repeatuntil="" name="Root_Tree" debugbreak="False"><parallel tiebreaker="fail" succeed="all" repeatuntil="" name="parallel" fail="any" debugbreak="False"><parallel tiebreaker="succeed" succeed="any" repeatuntil="" name="Player Detections" fail="any" debugbreak="False"><detect sensor="&quot;ears&quot;" repeatuntil="running" name="TryToHearPlayerFootsteps" matchtype="best" entityobjectvariable="" debugbreak="False" consistent="True" aspectvariable="" aspectobjectvariable="" aspect="&quot;PlayerSound&quot;" /><detect sensor="&quot;melee&quot;" repeatuntil="running" name="InMeleeDistance" matchtype="best" entityobjectvariable="" debugbreak="False" consistent="True" aspectvariable="" aspectobjectvariable="melee_player" aspect="&quot;PlayerVisual&quot;" /><selector usepriorities="False" repeatuntil="running" name="See Player In Dark/Light" debugbreak="False"><constraint repeatuntil="" priority="" name="isDark" debugbreak="False" constraint="isLight == false"><detect sensor="&quot;NightVisual&quot;" repeatuntil="" name="TryToSeePlayerInDark" matchtype="best" entityobjectvariable="player" debugbreak="False" consistent="True" aspectvariable="" aspectobjectvariable="" aspect="&quot;PlayerVisual&quot;" /></constraint><constraint repeatuntil="" priority="" name="isLight" debugbreak="False" constraint="isLight == true"><detect sensor="&quot;eyes&quot;" repeatuntil="running" name="TryToSeePlayerInLight" matchtype="best" entityobjectvariable="" debugbreak="False" consistent="True" aspectvariable="" aspectobjectvariable="player" aspect="&quot;PlayerVisual&quot;" /></constraint></selector></parallel><selector usepriorities="False" repeatuntil="" name="Actions Based On Detections" debugbreak="False"><constraint repeatuntil="" priority="" name="CanSeePlayer" debugbreak="False" constraint="player != null"><selector usepriorities="False" repeatuntil="" name="selector" debugbreak="False"><constraint repeatuntil="" priority="" name="Currently Suspicious" debugbreak="False" constraint="suspicious == true"><selector usepriorities="False" repeatuntil="" name="selector" debugbreak="False"><constraint repeatuntil="" priority="" name="IsNotHostile" debugbreak="False" constraint=""><timer waitforsec="reactionTime" returnvalue="success" name="WaitReactionTime" debugbreak="False" /><parallel tiebreaker="fail" succeed="all" repeatuntil="" name="Set Needed Vars" fail="any" debugbreak="False"><expression returnvalue="evaluate" repeatuntil="" name="Set Last Player Position" expression="" debugbreak="False" /><expression returnvalue="evaluate" repeatuntil="" name="Set Hostile" expression="hostile = true" debugbreak="False" /><mecparam valueexpression="true" repeatuntil="" parametertype="boolean" parametername="hostile = true" name="IsHostile" debugbreak="False" damptime="0" /></parallel></constraint><constraint repeatuntil="" priority="" name="IsHostile" debugbreak="False" constraint=""><treebinding repeatuntil="" name="HostileAttack" debugbreak="False" binding="HostileAttack" /><selector usepriorities="False" repeatuntil="" name="selector" debugbreak="False"><constraint repeatuntil="" priority="" name="IsInCover" debugbreak="False" constraint=""><treebinding repeatuntil="" name="HostileAttack" debugbreak="False" binding="HostileAttack" /></constraint><constraint repeatuntil="" priority="" name="IsNotInCover" debugbreak="False" constraint=""><random repeatuntil="" name="random" debugbreak="False"><treebinding weight="" repeatuntil="" name="HostileRunToCover" debugbreak="False" binding="HostileRunToCover" /><treebinding weight="" repeatuntil="" name="HostileAttack" debugbreak="False" binding="HostileAttack" /></random></constraint></selector></constraint></selector></constraint><constraint repeatuntil="" priority="" name="NOT Currently Suspicious" debugbreak="False" constraint="suspicious == false"><treebinding repeatuntil="success" name="CalmToSuspicious" debugbreak="False" binding="CalmToSuspicious" /></constraint></selector></constraint><constraint repeatuntil="" priority="" name="CannotSeePlayer" debugbreak="False" constraint="player == null"><selector usepriorities="False" repeatuntil="" name="selector" debugbreak="False"><constraint repeatuntil="" priority="" name="Is Hostile" debugbreak="False" constraint="hostile == true" /><constraint repeatuntil="" priority="" name="Is Suspicious" debugbreak="False" constraint="suspicious == true"><sequencer usepriorities="False" repeatuntil="" name="Search Then Reset To Patrol If Not Found" debugbreak="False"><treebinding repeatuntil="" priority="" name="Search" debugbreak="False" binding="Search" /><mecparam valueexpression="false" repeatuntil="" priority="" parametertype="boolean" parametername="suspicious" name="IsNOTSuspicious" debugbreak="False" damptime="0" /><expression returnvalue="evaluate" repeatuntil="" priority="" name="NotSuspicous" expression="suspicious = false" debugbreak="False" /></sequencer></constraint><constraint repeatuntil="" priority="" name="Is Calm" debugbreak="False" constraint="suspicious == false"><treebinding repeatuntil="" name="Patrol" debugbreak="False" binding="Patrol" /></constraint></selector></constraint></selector></parallel></behaviortree>